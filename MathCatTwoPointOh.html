<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Math Cat Goes to School</title>
	<script type="text/javascript" src="Libs/jquery.js"></script>
	<script type="text/javascript" src="Libs/Equation Generator.js"></script>
</head>
<body>
	<!--<div id="debug"></div>-->
	<canvas id="myCanvas" width="1000px" height="700px" style="border: 2px solid #000000;">
	</canvas>
	<script type="text/javascript">
		//this function gets the position of the mouse event and return the coordinates for use!
		function getPosition(mouseEvent, gameCanvas) {
			var x, y;//the X and Y to be returned
			if (mouseEvent.pageX != undefined && mouseEvent.pageY != undefined) {
				//if we actually got an event, ooohh yeah use the values ;)
				x = mouseEvent.pageX;
				y = mouseEvent.pageY;
			} else {
				//plus stuffs ooohh yeah! >;)
				x = mouseEvent.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
				y = mouseEvent.clientY + document.body.scrollTop + document.documentElement.scrollTop;
			}

			return { x: x - gameCanvas.offsetLeft, y: y - gameCanvas.offsetTop };
		}

		//this funtion is used to allow default parameters, in a function
		//if you pass in a parameter then you need to use this
		//function to check if a value was passed or not
		function defaultParameter(param, defaultVal) {
			//if the variable is not equal to undefined, then keep the 
			//value and return it. otherwise, use the defaultValue you passed
			//and return that instead
			return (typeof param !== 'undefined' ? param : defaultVal);

		}
		//	**************************************************************************************************************
		//						START OF GAME CLASSES
		//	**************************************************************************************************************


		//the card class, represents the relavant data for a CARD

		function Card(value, color, used) {
			this.here = used;			//used as a flag for if it is in a particular spot, hand, deck, or used
			this.myValue = value;		//in integer value for doing math with
			this.myColor = color;		//a string for holding the color, used in making the name of the image
			this.myImage = new Image();	//make an image variable
		};

		//the deck class. represents the relavant data to manage a deck
		//including which cards are in the deck, in the player's hand
		//and which have been used.
		function Deck() {

			//remember the deck works like this. the 0 spot in the array
			//for each one (inDeck, inHand, used) are all the same card
			//but the bool, "here" will only be true in ONE OF THEM
			//if you are true inDeck then you are false inHand and used.
			//this way we know where cards are.    

			this.inDeck = [52];			//thecard array for the deck
			this.inHand = [52];			//card array for the hand
			this.used = [52];			//card array for used cards
			this.numUsed = 0;					//use this variable to keep track of how many cards are used
			this.MAX_DECK_SIZE = 52;
			this.x_size = 90;
			this.y_size = 120;
			this.firstCard = 0;
			this.lastCard = 4;

			//make dumpHand()
			this.dumpHand = function () {
				for (var i = this.firstCard; i <= this.lastCard; i++) {
					this.inHand[i].here = false;
					this.used[i].here = true;
				}
				this.firstCard = this.lastCard + 1;
				this.lastCard++;
				while ((this.lastCard < this.firstCard + 5) && (this.lastCard < this.MAX_DECK_SIZE)) {
					this.inDeck[this.lastCard].here = false;
					this.inHand[this.lastCard].here = true;
					this.lastCard++;
					this.numUsed++;
				}
				this.lastCard--;
			}
			this.initializeDeck = function () {

				var color = ["blue", "brown", "green", "purple"];
				var inB = 0;
				for (var i = 0; i < 13; i++) {

					for (var j = 0; j < 4; j++) {
						//edit needed to make cards with i+1 since we ned 13 and not 0
						this.inDeck[inB] = new Card(i + 1, color[j], true);
						this.inHand[inB] = new Card(i + 1, color[j], false);
						this.used[inB] = new Card(i + 1, color[j], false);
						this.inHand[inB].myImage.src = "Images/Cards/card" + (i + 1) + color[j] + ".png"
						inB += 1;

					}
				}
				//add code here for initializing the deck
				//each array should be filled with card objects
				//the color should be either "green""red""purple"or "black"
			}

			this.shuffleDeck = function () {

				//add code here for shuffleing the deck.
				//remember, however you move the cards in one
				//array, MOVE IT THE SAME IN THE OTHERS

				for (var c = 0; c < 700 ; c++) {
					for (var i = 0; i < this.MAX_DECK_SIZE ; i++) {
						rand = Math.floor((Math.random() * 51));
						var temp1 = this.inDeck[i];
						var temp2 = this.inHand[i];
						var temp3 = this.used[i];
						this.inDeck[i] = this.inDeck[rand];
						this.inHand[i] = this.inHand[rand];
						this.used[i] = this.used[rand];

						this.inDeck[rand] = temp1;
						this.inHand[rand] = temp2;
						this.used[rand] = temp3;
					}
				}

			}
			this.makeFirstHand = function () {
				//add code here for making the first five cards inHand
				for (var i = 0; i < 5; i++) {
					this.inDeck[i].here = false;
					this.inHand[i].here = true;
				}
				this.numUsed = 5;
				this.firstCard = 0;
				this.lastCard = 4;
			}

			this.addToHand = function (h1, h2, h3, h4, h5) {
				//use this function to add cards to the hand.  
				//use the howMany parameter to determine how
				//many more cards the hand needs
				//its just a matter ofhanging a few bools to true
				var handIndices = [5];

				var i = 0;
				var ind = 0;
				while (i < this.numUsed) {
					if (this.inHand[i].here == true) {
						handIndices[ind++] = i;
					}
					i++;
				}

				if ((!h1) && (this.numUsed < this.MAX_DECK_SIZE)) {
					this.inHand[handIndices[0]].here = false;
					this.used[handIndices[0]].here = true;

					this.inHand[this.numUsed].here = true;
					this.inDeck[this.numUsed].here = false;
					this.numUsed++;
				}
				else if (!h1) {
					this.inHand[handIndices[0]].here = false;
					this.used[handIndices[0]].here = true;
				}

				if ((!h2) && (this.numUsed < this.MAX_DECK_SIZE)) {
					this.inHand[handIndices[1]].here = false;
					this.used[handIndices[1]].here = true;

					this.inHand[this.numUsed].here = true;
					this.inDeck[this.numUsed].here = false;
					this.numUsed++;
				}
				else if (!h2) {
					this.inHand[handIndices[1]].here = false;
					this.used[handIndices[1]].here = true;
				}

				if ((!h3) && (this.numUsed < this.MAX_DECK_SIZE)) {
					this.inHand[handIndices[2]].here = false;
					this.used[handIndices[2]].here = true;

					this.inHand[this.numUsed].here = true;
					this.inDeck[this.numUsed].here = false;
					this.numUsed++;
				}
				else if (!h3) {
					this.inHand[handIndices[2]].here = false;
					this.used[handIndices[2]].here = true;
				}

				if ((!h4) && (this.numUsed < this.MAX_DECK_SIZE)) {
					this.inHand[handIndices[3]].here = false;
					this.used[handIndices[3]].here = true;

					this.inHand[this.numUsed].here = true;
					this.inDeck[this.numUsed].here = false;
					this.numUsed++;
				}
				else if (!h4) {
					this.inHand[handIndices[3]].here = false;
					this.used[handIndices[3]].here = true;
				}

				if ((!h5) && (this.numUsed < this.MAX_DECK_SIZE)) {
					this.inHand[handIndices[4]].here = false;
					this.used[handIndices[4]].here = true;

					this.inHand[this.numUsed].here = true;
					this.inDeck[this.numUsed].here = false;
					this.numUsed++;
				}
				else if (!h5) {
					this.inHand[handIndices[4]].here = false;
					this.used[handIndices[4]].here = true;
				}

			}
			this.resetDeck = function () {
				//add code here to reset the deck. just set all the bools to
				//show that all cards are inDeck. then we can do another hand
				for (var i = 0; i < this.MAX_DECK_SIZE; i++) {
					this.inDeck[i].here = true;
					this.inHand[i].here = false;
					this.used[i].here = false;
					this.shuffleDeck();
					this.makeFirstHand();
				}
			}
			this.isEmpty = function () {
				//check the used array, if its all true on here, return true.
				//this is needed in game logic to know when one of our
				//ending conditions are met. also if it is empty
				//we don't have to display the cardBack.png
				/*
						var keepTrack=true;
						for(var i=0;i<this.MAX_DECK_SIZE;i++)
						{
							if(this.inDeck[i].here==true)
							{
								keepTrack = false;
							}
						}
						return keepTrack;
				*/
				if (this.numUsed < this.MAX_DECK_SIZE) { return false; }
				else { return true; }

			}
		};
		//***************************END DECK

		//whenever we start a game, we need to keep track of all information
		//relavant to the player. so we have a Player class. just give it a 
		//string when its made, and that will be the player name.
		function Player() {
			//if we ever go multiplayer, each player needs their own deck.
			//same goes for adding AI. so encapsulate the deck into the 
			//player's relavant information, here is myDeck
			this.myDeck = new Deck();
			this.myHand = [5];	//hold the current src names of cards in hand
			this.name = "Math\n Cat";
			this.Totalscore = 0;		//start the score at zero, this is the score for ENTIRE game
			this.currentScore = 0;		//this is the score for the current HW questions
			this.level = 1; 			//this is for the current level
			this.problemNumber = 1;		//start at first problem
			this.currentBonus = 0;		//this counts the bonuses for the current HW problem
			this.AddBonus = 0;			//keeps track of how many additions have been done in HW
			this.subtractBonus = 0;		//keeps track of how many subtractions have been done in HW
			this.multiplyBonus = 0;		//keeps track of how many multiplications have been done in HW
			this.divideBonus = 0;		//keeps track of how many divisions have been done in HW
			this.currentEQ = "X = 0"; 	//keeps track of current Equation for problem
			this.currentX = 0;			//hold the value of X for current problem in HW
			this.DeckEmpty = false;		//keep track of if the deck is empty
			//variables for displaying info on answering questions
			this.myAnswer = 0;//the answer you can attempt to submit
			this.termToBuild = 0;//the term you are currently building
			this.answerAttempted = false;//if you have attempted an answer, display answer so far



			this.initializePlayer = function () {
				//ADD CODE HERE FOR SETTING THE PLAYER UP AT GAME START
				//call functions for the deck.


				this.myDeck.initializeDeck();
				this.myDeck.shuffleDeck();
				//this.myDeck.addToHand();  //<----- Broken function ****FIXED****
				this.myDeck.makeFirstHand();
				this.updateHand();
				//is all i guess is left easy function... honestly...
				//it takes more time to make this comment than to actually
				//code it.. but i will leave it to YOU BWAHAHAHAHAHAHA!
			}
			this.updateCurrentScore = function (h1, h2, h3, h4, h5) {
				//add code here to add to current score. 
				//this goes up depending on what cards are used
				//and how many were used
				var addCardScore = 0;
				//h1	
				if (h1 == true) {
					for (var i = 0; i < 52; i++) {
						if (this.myDeck.inHand[i].here == true) {
							addCardScore = addCardScore + this.myDeck.inHand[i].myValue;
							break;
						}
					}
				}
				//h2
				if (h2 == true) {
					var numTrue = 0;
					for (var i = 0; i < 52; i++) {

						if (this.myDeck.inHand[i].here == true) {
							numTrue = numTrue + 1;
							if (numTrue == 2) {
								addCardScore = addCardScore + this.myDeck.inHand[i].myValue;
								break;
							}
						}
					}
				}
				//h3	
				if (h3 == true) {
					var numTrue = 0;
					for (var i = 0; i < 52; i++) {

						if (this.myDeck.inHand[i].here == true) {
							numTrue = numTrue + 1;
							if (numTrue == 3) {
								addCardScore = addCardScore + this.myDeck.inHand[i].myValue;
								break;
							}
						}
					}
				}
				//h4	
				if (h4 == true) {
					var numTrue = 0;
					for (var i = 0; i < 52; i++) {

						if (this.myDeck.inHand[i].here == true) {
							numTrue = numTrue + 1;
							if (numTrue == 4) {
								addCardScore = addCardScore + this.myDeck.inHand[i].myValue;
								break;
							}
						}
					}
				}
				//h5	
				if (h5 == true) {
					var numTrue = 0;
					for (var i = 0; i < 52; i++) {

						if (this.myDeck.inHand[i].here == true) {
							numTrue = numTrue + 1;
							if (numTrue == 5) {
								addCardScore = addCardScore + this.myDeck.inHand[i].myValue;
								break;
							}
						}
					}
				}

				this.currentScore += addCardScore;
			}
			this.updateTotalScore = function () {
				//this is called when a problem is finished, it should add the 
				//currentScore to the TotalScore. and reset anything to what it needs to be
				this.Totalscore = this.currentScore + this.currentBonus;

			}
			this.nextProblem = function (newEQ, newX) {
				//insert code here to advance to the next problem generate new EQ and X
				//and bump up the problem number
				this.problemNumber = this.problemNumber + 1;
				this.currentEQ = newEQ;
				this.currentX = newX;

			}
			this.nextLevel = function (newEQ, newX) {
				//add code here for progressing the player to the next level
				//set all values appropriately
				this.level = this.level + 1;
				this.currentEQ = newEQ;
				this.currentX = newX;
			}
			this.updateBonus = function () {
				//um...update the bonuses
				//if the player presses the '+''-''*''/' buttons
				//add one to the correct bonus, if they cancel, set to zero.
				//you figure out how to handle cancels or what not
				var totalAdd = 0.2 * this.currentScore * this.AddBonus;
				var totalSubtract = 0.3 * this.currentScore * this.subtractBonus;
				var totalMultiply = 0.4 * this.currentScore * this.multiplyBonus;
				var totalDivision = 0.5 * this.currentScore * this.divideBonus;
				this.currentScore = this.currentScore + totalDivision + totalMultiply + totalSubtract + totalAdd;
			}
			this.updateHand = function () {
				//whatever cards are inHand, we need these card pictures displayed.
				//hold those cards data in the array, use this function to populate 
				//and update the array
				var handNum = 0;
				for (var i = 0; i < this.myDeck.numUsed; i++) {
					if (this.myDeck.inHand[i].here == true) {
						this.myHand[handNum] = this.myDeck.inHand[i];
						handNum++;
					}
				}
			}

			//if anymore needed, add them in onto next class
		};

		//this class will be used by the game class



		//		************************************************************************************************
		//						END GAME CLASSES//START GAME DATA
		//		************************************************************************************************


		var gameCanvas = document.getElementById("myCanvas");
		var gameContext = gameCanvas.getContext("2d");
		var CanvasH = 700;
		var canvasW = 1000;

		var handleThisClick = false;

		var touched = false;
		var doubletouched = false;
		var doubleclicked = false;
		var clicked = false;

		//for the ultrabook the touch stuff isn't necessary
		var touchDown = false;
		var touchOnce = false;
		var touchTime = 0;
		var touchMaxTime = 250;

		var clickDown = false;
		var clickOnce = false;
		var clickTwice = false;
		var clickTime = 0;
		var clickMaxTime = 250;

		var fps = 30;


		//this is the touch code here! only thing is we won't be drawing!
		// This will be defined on a TOUCH device such as Ultrabook or whatever
		//tested it and yes it finds it
		var is_touch_device = 'ontouchstart' in document.documentElement;
		if (is_touch_device) {//this activates if its a touch device
			// create a drawer which tracks touch movements
			var toucher = {
				touchstart: function (coors) {
					touchDown = true;
					touched = true;
					touchTime = new Date().getTime();
					touchHandler(coors);
				},
				touchmove: function (coors) {
					//we don't want to add dragging just yet so just end the event
					touched = false;
				},
				touchend: function (coors) {
					touchDown = false;
					touchTime = 0;
				}
			}


			function TOUCH(event) {
				event.preventDefault();
				//so grabbing the first [element zero] of the multi touch targets
				var coors = {
					x: event.targetTouches[0].pageX,
					y: event.targetTouches[0].pageY
				};
				// Now we need to get the offset of the canvas location
				var obj = document.getElementById("myCanvas");

				if (obj.offsetParent) {
					// Every time we find a new object, we add its offsetLeft and offsetTop to curleft and curtop.
					do {
						coors.x -= obj.offsetLeft;
						coors.y -= obj.offsetTop;
					}
						// The while loop can be "while (obj = obj.offsetParent)" only, which does return null
						// when null is passed back, but that creates a warning in some editors (i.e. VS2010).
					while ((obj = obj.offsetParent) != null);
				}

				// pass the coordinates to the appropriate handler
				toucher[event.type](coors);

			}

			gameCanvas.addEventListener('touchstart', TOUCH, true);
			gameCanvas.addEventListener('touchmove', TOUCH, true);
			gameCanvas.addEventListener('touchend', TOUCH, true);

			// prevent elastic scrolling
			gameCanvas.addEventListener('touchmove', function (event) {
				event.preventDefault();
			}, false);
		}
			//********************END OF TOUCH CODE//START OF CLICK CODE**************************

		else {
			// When the click fires set bools, get position and call clickhandler
			$("#myCanvas").mousedown(function (mouseEvent) {
				clickDown = true;
				clicked = true;
				clickTime = new Date().getTime();
				handleThisClick = true;

				var position = getPosition(mouseEvent, gameCanvas);
				//call clickHandler if you got a click, and update accordingly
				clickHandler(position);

				// attach event handlers
				$(this).mousemove(function (mouseEvent) {
					//not doing anything when the mouse position changes
				}).mouseup(function (mouseEvent) {
					clickDown = false;
					clicked = false;
					clickTime = 0;
				}).mouseout(function (mouseEvent) {
				});
			});
		}
		//********************The Deck*******************************


		//*******************End of The deck*************************

		//		****************IMAGES THAT SHOULD BE AVAILABLE AT ALL TIMES*****************

		//background images
		var titleScreen = new Image();
		titleScreen.src = "Images/Backgrounds/beginingBackground.png";

		var gameSetting = new Image();
		gameSetting.src = "Images/Backgrounds/gameSetting.png";

		var gameOver = new Image();
		gameOver.src = "Images/Backgrounds/GameOver.png";

		//deck image
		var cardBack = new Image();
		cardBack.src = "Images/Cards/cardBack.png";

		//math cat faces
		var worryPic = new Image();
		worryPic.src = "Images/CatFaces/mathCatWorry.png";

		var OMGPic = new Image();
		OMGPic.src = "Images/CatFaces/mathCatAlmostDead.png";

		var celebratePic = new Image();
		celebratePic.src = "Images/CatFaces/mathCatCelebrate.png";

		var confusedPic = new Image();
		confusedPic.src = "Images/CatFaces/mathCatConfused.png";

		var deadPic = new Image();
		deadPic.src = "Images/CatFaces/mathCatDead.png";

		var excitedPic = new Image();
		excitedPic.src = "Images/CatFaces/mathCatExcited.png";

		//clock pics
		var clockHappyPic = new Image();
		clockHappyPic.src = "Images/Clock/clockHappy.png";

		var clockSadPic = new Image();
		clockSadPic.src = "Images/Clock/clockSad.png";

		//bonus related
		var starPic = new Image();
		starPic.src = "Images/Stamps/check.png";

		var failStampPic = new Image();
		failStampPic.src = "Images/Stamps/failStamp.png";

		//buttons
		var plusBTN = new Image();
		plusBTN.src = "Images/Buttons/plusButton.png";

		var plusBTNp = new Image();
		plusBTNp.src = "Images/Buttons/plusButtonPressed.png";

		var minusBTN = new Image();
		minusBTN.src = "Images/Buttons/minusButton.png";

		var minusBTNp = new Image();
		minusBTNp.src = "Images/Buttons/minusButtonPressed.png";

		var multiBTN = new Image();
		multiBTN.src = "Images/Buttons/multiplyButton.png";

		var multiBTNp = new Image();
		multiBTNp.src = "Images/Buttons/multiplyButtonPressed.png";

		var divideBTN = new Image();
		divideBTN.src = "Images/Buttons/divideButton.png";

		var divideBTNp = new Image();
		divideBTNp.src = "Images/Buttons/divideButtonPressed.png";

		//timer number pics
		var clockTens = new Image();
		clockTens.src = "Images/Clock/clock9.png";

		var clockOnes = new Image();
		clockOnes.src = "Images/Clock/clock9.png";

		//more buttons
		var panicPic = new Image();
		panicPic.src = "Images/Buttons/panicButton.png";

		var makeTermPic = new Image();
		makeTermPic.src = "Images/Buttons/makeTermButton.png";

		var acceptPic = new Image();
		acceptPic.src = "Images/Buttons/acceptButton.png";

		var cancelPic = new Image();
		cancelPic.src = "Images/Buttons/cancelButton.png";

		//splash arts for participants
		var Thang = new Image();
		Thang.src = "Images/Backgrounds/edwardThang.png";
		var JYC = new Image();
		JYC.src = "Images/Backgrounds/JoyClayton.png";
		var France = new Image();
		France.src = "Images/Backgrounds/FranciaGarcia.png";
		var VMichial = new Image();
		VMichial.src = "Images/Backgrounds/VMichial.png";
		var CodeForGood = new Image();
		CodeForGood.src = "Images/Backgrounds/codeforGood.png";

		//bonus counter pics
		var addTimes = new Image();
		addTimes.src = "Images/Times/times1.png";

		var minusTimes = new Image();
		minusTimes.src = "Images/Times/times1.png";

		var multiTimes = new Image();
		multiTimes.src = "Images/Times/times1.png";

		var divideTimes = new Image();
		divideTimes.src = "Images/Times/times1.png";

		var noBonus = new Image();
		noBonus.src = "Images/Times/X.png";

		//ending screen T for playing
		var endScreen = new Image();
		endScreen.src = "Images/Backgrounds/endScreen.png";

		//score number pics
		var scorePics = new Array();
		for (var i = 0; i < 7; i++) {
			scorePics[i] = new Image();
			scorePics[i].src = "Images/Score/score0.png";
		}

		//		***********GAME STATE RELATED VARIABLES ********************
		//		
		//		**************THE ARE GAME OBJECT VARIABLES MADE GLOBALS**************
		//thesevariables keep track of the state of the game for gameplay logic*****
		var player1 = new Player();
		player1.initializePlayer();

		//math logic for cards variable
		var isIdle = true;
		var pickAcard = true;
		var pickAsign = false;	
		var	merge = false;
		var ASF = false;
		var ABB = false;
		var answerSoFar = 0;
		var answerBeingBuilt = 0;
		var answered = false;
		var cardSelected = false;
		//DIALOG variables
		var confirmDialog = false;
		var confirmMessage = "accept to continue...";
		var quitDialog = false;
		var quitMessage = "Are you sure you want to quit?";
		var acceptDialog = false;
		var acceptMessage = "Accepted...";
		var cancelDialog = false;
		var cancelMessage = "Canceled...";
		var failDialog = false;
		var failMessage = "You failed this test :(";
		var selectCardDialog = false;
		var selectCardMessage = "select a card...";
		var selectOperationDialog = false;
		var selectOperationMessage = "Select a math operator...";
		var pickAcardDialog = false;
		var pickAcardMessage = "select a card";
		var pickAsignDialog = false;
		var pickAsignMessage = "select an operator";

		var moodOMG = false;
		var moodFearful = false;		//bool for determining if we should use fearful portrait
		var moodExcited = true;			//bool for determining if we should use Excited portrait
		var moodCelebrate = false;		//bool for determining if we should use Celebrate portrait
		var moodConfused = false;		//bool for determining if we should use Confused portrait
		var moodDead = false;			//bool for determining if we should use Dead portrait
		var moodOMG = false;

		var inDivision = false;			//bools for the buttons
		var inAddition = false;			//
		var inSubtraction = false;		//
		var inMultiplication = false;	//mmk


		var makeTermActive = false;		//bool for telling us if in makeTerm mode
		var panicked = false;			//bool for telling us if panic button was pressed this equation
		var accepted = false;			//bool for telling us if player accepted.
		var canceled = false;			//bool for telling us if we canceled
		var startPlaying = false;		//bool for knowing the game phase JUST STARTED
		var hasEquation = false;		//bool tells if player has an equation
		var buildingAnswer = false;		//bool for telling us if player is building answer, accepted ends this mode
		var buildingTerm = false;		//bool for telling if we are currently building a term
		var correctAnswer = false;

		var atStartupScreen = true;	//bool for telling us what screen we are in startup screen, which shows our logos
		var atTitleScreen = false;		//bool for at title screen, true means, show title and play title music
		var atGameScreen = false;		//bool for at game screen, do the game loop for this portion
		var atGameOverScreen = false;	//oh so sad, true if you just phail hard
		var atEndScreen = false;

		var hand1Selected = false;		//these hand selected bools are needed for drawing.
		var hand2Selected = false;		//if we click on a card, we want to move it slightly
		var hand3Selected = false;		//from the default position
		var hand4Selected = false;
		var hand5Selected = false;
		
		var hand1used = false;			//tells us if a card was used in making a value, so it can't be used again
		var hand2used = false;
		var hand3used = false;
		var hand4used = false;
		var hand5used = false;

		//variables for player data
		var additionBonus = false;
		var subtractionBonus = false;
		var multiplyBonus = false;
		var divideBonus = false;

		var numAdditions = 0;
		var numSubtractions = 0;
		var numMultiplies = 0;
		var numDivisions = 0;

		var deckEmpty = false;

		var outOfTime = false;
		var timeRemaining = 99;
		var tensTime = 9;
		var onesTime = 9;
		
		//Timers for certain messages
		var started = false;
		var clockTimer = 0;
		var followTime = false;
		var acceptTimer = 0;
		var cancelTimer = 0;
		var cardTimer = 0;
		var operatorTimer = 0;
		var gameOverTimer = 0;

		//startup variables
		var startupTimer = 0;
		var showEdward = false;
		var showVMichial = true;
		var showFranciaGarcia = false;
		var showJYC = false;
		var showCodeForGood = false;
		

		//************** END OF GAME OBJECT VARIABLES ************ 

		var touchSpot = new String();
		var clickSpot = new String();

		var currentX = 0;
		var currentY = 0;

		//		var SSfirstPass = new Boolean(true);

		//var titleScreenReady = new Boolean(false);
		//$(titleScreen).load(function () { titleScreenReady = true; });


		function touchHandler(coors) {
			touchSpot = "(" + coors.x + "," + coors.y + ")";
			//this will handle changing the variables depending on game state
			//and the touch position
		}
		function clickHandler(pos) {
			clickSpot = "(" + pos.x + "," + pos.y + ")";
			currentX = pos.x;
			currentY = pos.y;

			//this will handle changing the variables depending on game state
			//and the click position
		}

		//		**************************GAME STATUS CHECK STARTS HERE**********************

		function gameStatusCheck() {
			if (atStartupScreen) {
				startupTimer++;
				if ((startupTimer / fps) == 3) {
					if (showVMichial) { showVMichial = false; showFranciaGarcia = true; }
					else if (showFranciaGarcia) { showFranciaGarcia = false; showJYC = true; }
					else if (showJYC) { showJYC = false; showEdward = true; }
					else if (showEdward) { showEdward = false; showCodeForGood = true; }
					else if (showCodeForGood) {
						showCodeForGood = false;
						atStartupScreen = false;
						atTitleScreen = true;
						showVMichial = true;
					}
					startupTimer = 0;
				}

			}
			else if (atTitleScreen) {
				if (handleThisClick) {
					if ((currentX > 80 && currentX < 350) && (currentY > 630)) {
						moodFearful = false;
						moodExcited = true;
						moodCelebrate = false;
						moodConfused = false;
						moodDead = false;
						moodOMG = false;
						atTitleScreen = false;
						atGameScreen = true;
						timeRemaining = 99;
						followTime = false;
						outOfTime = false;
						tensTime = 9;
						onesTime = 9;
						clockTens.src = "Images/Clock/clock" + tensTime + ".png";
						clockOnes.src = "Images/Clock/clock" + onesTime + ".png";
						handleThisClick = false;
						player1.totalScore = 0;
					}
					else if ((currentX > 730 && currentX < 960) && (currentY > 630)) {
						atTitleScreen = false;
						atEndScreen = true;
						handleThisClick = false;
					}
				}
			}
			else if (atGameScreen) {

				//if there is a click to worry about
				if (handleThisClick) {
					//******************I have listed all the areas to click for tests i've done
					//******************in most cases you cannot chang moste setting in the final game
					//******************things like portrait click, bonus click, score click, clock click
					//******************will have no effect, so the code will be commented
					/*
					//check score // check complete, area diabled
					if (((currentX > 170) && (currentX < 310)) && ((currentY > 170) && (currentY < 210))) {
						handleThisClick = false;
						if((player1.totalScore+111111) > 9999999){player1.totalScore = 9999999; }
						else if (player1.totalScore < 9999999) { player1.totalScore += 111111; }
						else
						{
							player1.totalScore = 9999999;
						}
					}
					*/
					//**************CARDS CHECK
					if ((currentX > 225 && currentX < 325) && (currentY > 440 && currentY < 580)) {
						//card 1 selected
							if(pickAcard)
							{
								if(!ASF && !ABB)
								{
									answerBeingBuilt = 0;
									ABB = true;
									answerBeingBuilt = player1.myHand[0].myValue;
									cardSelected = true;
									pickAcard = false;
									pickAsign = true;	
									hand1Selected = true;
									hand1used = true;
								}
								else if(!ASF && ABB)
								{
									if(inAddition || inSubtraction || inDivision || inMultiplication)
									{
										if(!hand1used)
										{
											if(inAddition)
											{
												answerBeingBuilt += player1.myHand[0].myValue;
												cardSelected = true;
												hand1Selected = true;
												hand1used = true;
												pickAcard = false;
												pickAsign = true;
											}
											else if(inSubtraction)
											{
												answerBeingBuilt -= player1.myHand[0].myValue;
												hand1Selected = true;
												hand1used = true;
												pickAcard = false;
												pickAsign = true;
											}
											else if(inDivision)
											{
												answerBeingBuilt /= player1.myHand[0].myValue;
												hand1Selected = true;
												hand1used = true;
												pickAcard = false;
												pickAsign = true;
											}
											else if(inMultiplication)
											{
												answerBeingBuilt *= player1.myHand[0].myValue;
												hand1Selected = true;
												hand1used = true;
												pickAcard = false;
												pickAsign = true;
											}
										}
									}
								}
								else if(ASF && ABB)
								{
								
								}
							}
							else if(pickAsign)
							{
								
							}
							else if(merge)
							{
							
							}
							if (!hand1Selected) { hand1Selected = true; }
							else { hand1Selected = false; }
						
					}
					else if ((currentX > 325 && currentX < 425) && (currentY > 440 && currentY < 580)) {
						//clicked in area for card 2
						if (!hand2Selected) { hand2Selected = true; }
						else { hand2Selected = false; }
					}
					else if ((currentX > 425 && currentX < 525) && (currentY > 440 && currentY < 580)) {
						//clicked in area for card 3
						if (!hand3Selected) { hand3Selected = true; }
						else { hand3Selected = false; }
					}
					else if ((currentX > 525 && currentX < 625) && (currentY > 440 && currentY < 580)) {
						//clicked in area for card 4
						if (!hand4Selected) { hand4Selected = true; }
						else { hand4Selected = false; }
					}
					else if ((currentX > 625 && currentX < 725) && (currentY > 440 && currentY < 580)) {
						//clicked in area for card 5
						if (!hand5Selected) { hand5Selected = true; }
						else { hand5Selected = false; }
					}

						//****************PORTRAIT PIC CHECK ______ check complete, disabling
					/*
					else if ((currentX > 680 && currentX < 970) && (currentY > 20 && currentY < 210))//clicked portrait
					{
						handleThisClick = false;
						//moods portrait cycle through
						if (moodExcited) { moodExcited = false; moodFearful = true; }
						else if (moodFearful) { moodFearful = false; moodCelebrate = true; }
						else if (moodCelebrate) { moodCelebrate = false; moodConfused = true; }
						else if (moodConfused) { moodConfused = false; moodOMG = true; }
						else if (moodOMG) { moodOMG = false; moodDead = true; }
						else if (moodDead) { moodDead = false; moodExcited = true; }

					}
					*/
						//*******************BONUS CHECK****************
					else if ((currentX > 740 && currentX < 940) && (currentY > 340 && currentY < 375)) {//clicked on addition bonus
						handleThisClick = false;
						if (additionBonus) { additionBonus = false; }
						else { additionBonus = true; }
					}
					else if ((currentX > 740 && currentX < 940) && (currentY > 400 && currentY < 435)) {//clicked on subtraction bonus
						handleThisClick = false;
						if (subtractionBonus) { subtractionBonus = false; }
						else { subtractionBonus = true; }
					}
					else if ((currentX > 740 && currentX < 940) && (currentY > 450 && currentY < 495)) {//clicked on multplication bonus
						handleThisClick = false;
						if (multiplyBonus) { multiplyBonus = false; }
						else { multiplyBonus = true; }
					}
					else if ((currentX > 740 && currentX < 940) && (currentY > 530 && currentY < 550)) {//clicked on division bonus
						handleThisClick = false;
						if (divideBonus) { divideBonus = false; }
						else { divideBonus = true; }
					}
						//*************MATH BUTTONS***************************
					else if ((currentX > 270 && currentX < 360) && (currentY > 615 && currentY < 685)) 
					{
						//clicked on ADD button
						if (inAddition) { handleThisClick = false; inAddition = false; }
						else
						{
							handleThisClick = false;
							inAddition = true;
							if (numAdditions < 9) {
								numAdditions++;
								addTimes.src = "Images/Times/times" + numAdditions + ".png";
							}
						}


					}
					else if ((currentX > 385 && currentX < 490) && (currentY > 580 && currentY < 650)) {//clicked on SUBTRACT button
						if (inSubtraction) { handleThisClick = false; inSubtraction = false; }
						else
						{
							handleThisClick = false;
							inSubtraction = true;
							if (numSubtractions < 9) {
								numSubtractions++;
								minusTimes.src = "Images/Times/times" + numSubtractions + ".png";
							}
						}


					}
					else if ((currentX > 520 && currentX < 635) && (currentY > 585 && currentY < 650)) {//clicked on MULTIPLY button
						if (inMultiplication) { handleThisClick = false; inMultiplication = false; }
						else
						{
							handleThisClick = false;
							inMultiplication = true;
							if (numMultiplies < 9) {
								numMultiplies++;
								multiTimes.src = "Images/Times/times" + numMultiplies + ".png";
							}
						}


					}
					else if ((currentX > 645 && currentX < 750) && (currentY > 600 && currentY < 680)) {//clicked on DIVIDE button
						if (inDivision) { handleThisClick = false; inDivision = false; }
						else
						{
							handleThisClick = false;
							inDivision = true;
							if (numDivisions < 9) {
								numDivisions++;
								divideTimes.src = "Images/Times/times" + numDivisions + ".png";
							}
						}


					}
						//clicked on DECK
					else if ((currentX > 110 && currentX < 220) && (currentY > 425 && currentY < 560)) {
						handleThisClick = false;
						player1.myDeck.addToHand(hand1Selected, hand2Selected, hand3Selected, hand4Selected, hand5Selected);
						hand1Selected = false;
						hand2Selected = false;
						hand3Selected = false;
						hand4Selected = false;
						hand5Selected = false;
					}
						//****CLOCK
					else if ((currentX > 0 && currentX < 125) && (currentY > 590 && currentY < 701)) {//clicked on Clock, disabled for now
						handleThisClick = false;
						//if(!outOfTime){outOfTime=true;}
						//else{outOfTime= false;}
					}

						//********TIME CHECK
					else if ((currentX > 126 && currentX < 270) && (currentY > 590 && currentY < 701)) {
						if (followTime == true) {
							handleThisClick = false;
							followTime = false;
							clockTimer = 0;
							timeRemaining = 99;
							tensTime = 9;
							onesTime = 9;
							clockTens.src = "Images/Clock/clock" + tensTime + ".png";
							clockOnes.src = "Images/Clock/clock" + onesTime + ".png";
						}
						else { handleThisClick = false; followTime = true; }
					}
						//******panic button******
					else if ((currentX > 455 && currentX < 560) && (currentY > 660 && currentY < 701)) {
						if (panicked) {
							handleThisClick = false;
							panicked = false;
							panicPic.src = "Images/Buttons/panicButton.png";
						}
						else {
							handleThisClick = false;
							panicked = true;
							panicPic.src = "Images/Buttons/panicButtonPressed.png";
						}
					}
						//make term button
					else if ((currentX > 775 && currentX < 950) && (currentY > 585 && currentY < 641)) {
						if (makeTermActive) {
							handleThisClick = false;
							makeTermActive = false;
							makeTermPic.src = "Images/Buttons/finishTermButton.png";
						}
						else {
							handleThisClick = false;
							makeTermActive = true;
							makeTermPic.src = "Images/Buttons/makeTermButton.png";
						}
					}
						//********Accept Button*******
					else if ((currentX > 750 && currentX < 876) && (currentY > 640)) {
						if (acceptDialog) {
							handleThisClick = false;
							acceptDialog = false;
						}
						else if (confirmDialog) {
							handleThisClick = false;
							acceptDialog = true;
						}
						else if (quitDialog) {
							handleThisClick = false;
							atGameScreen = false;
							atTitleScreen = true;
							quitDialog = false;
							acceptDialog = true;
							numAdditions = 0;
							numSubtractions = 0;
							numMultiplies = 0;
							numDivisions = 0;
							player1.myDeck.resetDeck();
							player1.myDeck.shuffleDeck();
							player1.myDeck.makeFirstHand();
							acceptDialog = false;

						}
						else if (cancelDialog) {
							handleThisClick = false;
							cancelDialog = false;
						}
						else if (failDialog) {
							handleThisClick = false;
							failDialog = false;
							acceptDialog = false;
							atGameScreen = false;
							atGameOverScreen = true;
							numAdditions = 0;
							numSubtractions = 0;
							numMultiplies = 0;
							numDivisions = 0;
							player1.myDeck.resetDeck();
							player1.myDeck.shuffleDeck();
							player1.myDeck.makeFirstHand();
						}
						else {
							handleThisClick = false;
							acceptDialog = true;
						}


					}
						//Cancel button click****************
					else if ((currentX > 875) && (currentY > 640)) {
						if (acceptDialog) {
							handleThisClick = false;
							acceptDialog = false;
						}
						else if (confirmDialog) {
							handleThisClick = false;
							confirmDialog = false;
							cancelDialog = true;
						}
						else if (quitDialog) {
							handleThisClick = false;
							quitDialog = false;
							cancelDialog = true;

						}
						else if (cancelDialog) {
							handleThisClick = false;
							cancelDialog = false;
						}
						else if (failDialog) {
							handleThisClick = false;
							failDialog = false;
							atGameScreen = false;
							atGameOverScreen = true;
							numAdditions = 0;
							numSubtractions = 0;
							numMultiplies = 0;
							numDivisions = 0;
							player1.myDeck.resetDeck();
							player1.myDeck.shuffleDeck();
							player1.myDeck.makeFirstHand();
						}
						else {
							handleThisClick = false;
							quitDialog = true;
						}
					}

					handleThisClick = false;
				}
				//end click handle area ****gamestatus not click dependant found below****
				player1.updateHand();
				deckEmpty = player1.myDeck.isEmpty();
				//if you are at the point where no more cards exist
				//in the last 3 slots, don't allow them to be selected
				if (player1.myDeck.numUsed >= player1.myDeck.MAX_DECK_SIZE) {
					hand3Selected = false;
					hand4Selected = false;
					hand5Selected = false;
				}
				if (followTime) {//this handles the clock counter and changes any dependent event bools
					//that are based on time
					clockTimer++;
					if ((clockTimer / fps) == 1) {
						if (timeRemaining == 99) {
							outOfTime = false;
							moodFearful = false;
							moodExcited = true;
							moodCelebrate = false;
							moodConfused = false;
							moodDead = false;
							moodOMG = false;
						}
						if (timeRemaining <= 30) {
							outOfTime = false;
							moodFearful = true;
							moodExcited = false;
							moodCelebrate = false;
							moodConfused = false;
							moodDead = false;
							moodOMG = false;
						}
						if (timeRemaining <= 15) {
							outOfTime = false;
							moodFearful = false;
							moodExcited = false;
							moodCelebrate = false;
							moodConfused = true;
							moodDead = false;
							moodOMG = false;
						}
						if (timeRemaining < 3) {
							outOfTime = false;
							moodFearful = false;
							moodExcited = false;
							moodCelebrate = false;
							moodConfused = false;
							moodDead = false;
							moodOMG = true;
						}
						if (timeRemaining == 0) {
							followTime = false;
							moodFearful = false;
							moodExcited = false;
							moodCelebrate = false;
							moodConfused = false;
							moodOMG = false;
							moodDead = true;
							outOfTime = true;
							failDialog = true;
						}
						else { timeRemaining--; }

						onesTime = timeRemaining % 10;
						var tempTime = timeRemaining - onesTime;
						tensTime = tempTime / 10;
						clockTens.src = "Images/Clock/clock" + tensTime + ".png";
						clockOnes.src = "Images/Clock/clock" + onesTime + ".png";
						//need clock8.png from Joy or any number with an 8 is DERP!

						clockTimer = 0;
					}
				}
				// make dialog choices linger a bit
				if(selectCardDialog){
					cardTimer++;
					if((cardTimer / fps) == 3) { selectCardDialog = false; cardTimer = 0;}
				}
				if(selectOperationDialog){
					operatorTimer++;
					if((operatorTimer / fps) == 3){ selectOperationDialog = false; operatorTimer = 0; }
				}
				if (acceptDialog) {
					acceptTimer++;
					if ((acceptTimer / fps) == 3) { acceptDialog = false; acceptTimer = 0; }
				}
				if (cancelDialog) {
					cancelTimer++;
					if ((cancelTimer / fps) == 3) { cancelDialog = false; cancelTimer = 0; }
				}
				//make sure conditional buttons update regardless of click
				if (makeTermActive) {

					makeTermPic.src = "Images/Buttons/finishTermButton.png";
				}
				else {
					makeTermPic.src = "Images/Buttons/makeTermButton.png";
				}
				//edward score code
				var i = 0, num = player1.totalScore;
				for (; (0 < num) && (i < 7) ; i++) {
					digit = num % 10;
					num = Math.floor(num / 10);
					scorePics[i].src = "Images/Score/score" + digit + ".png";
				}
				for (; i < 7; i++) scorePics[i].src = "Images/Score/score0.png";
			}
			else if (atGameOverScreen) {
				gameOverTimer++;
				if (handleThisClick) {
					atGameOverScreen = false;
					atStartupScreen = true;
				}
				else if ((gameOverTimer / fps) == 6) {
					gameOverTimer = 0;
					atGameOverScreen = false;
					atStartupScreen = true;
				}
			}

			handleThisClick = false;
			clicked = false;

		}


		// ****************** DRAW FUNCTION STARTS HERE ****************************
		function draw(ctx) {
			ctx.clearRect(0, 0, 1000, 700);
			if (atEndScreen) {
				ctx.drawImage(endScreen, 0, 0);
			}
			else if (atStartupScreen) {
				if (showCodeForGood) { ctx.drawImage(CodeForGood, 0, 0); }
				else if (showJYC) { ctx.drawImage(JYC, 0, 0); }
				else if (showVMichial) { ctx.drawImage(VMichial, 0, 0); }
				else if (showFranciaGarcia) { ctx.drawImage(France, 0, 0); }
				else if (showEdward) { ctx.drawImage(Thang, 0, 0); }
			}
			else if (atTitleScreen) {
				ctx.drawImage(titleScreen, 0, 0);
				ctx.font = '20px Arial';
				//ctx.fillText(clickSpot, 0, 20);
				//ctx.fillText(touchSpot, 500, 20);
			}
			else if (atGameScreen) {
				ctx.drawImage(gameSetting, 0, 0);

				//draw the math cat mood face*********
				if (moodExcited) { ctx.drawImage(excitedPic, 580, 0); }
				else if (moodFearful) { ctx.drawImage(worryPic, 615, -38); }
				else if (moodCelebrate) { ctx.drawImage(celebratePic, 580, -13); }
				else if (moodConfused) { ctx.drawImage(confusedPic, 605, -40); }
				else if (moodDead) { ctx.drawImage(deadPic, 605, -34); }
				else if (moodOMG) { ctx.drawImage(OMGPic, 586, -7); }
				else { ctx.drawImage(excitedPic, 580, 0); }
				//bonus stars***************
				if ((numAdditions > 0) && !panicked) { ctx.drawImage(starPic, 709, 310); }
				if ((numSubtractions > 0) && !panicked) { ctx.drawImage(starPic, 709, 370); }
				if ((numMultiplies > 0) && !panicked) { ctx.drawImage(starPic, 708, 432); }
				if ((numDivisions > 0) && !panicked) { ctx.drawImage(starPic, 707, 495); }
				//math buttons*************
				if (inAddition) { ctx.drawImage(plusBTN, 245, 610); }
				else { ctx.drawImage(plusBTNp, 226, 595); }

				if (inSubtraction) { ctx.drawImage(minusBTN, 360, 572); }
				else { ctx.drawImage(minusBTNp, 342, 558); }

				if (inMultiplication) { ctx.drawImage(multiBTN, 502, 577); }
				else { ctx.drawImage(multiBTNp, 479, 562); }

				if (inDivision) { ctx.drawImage(divideBTN, 621, 600); }
				else { ctx.drawImage(divideBTNp, 602, 589); }

				//Draw Deck*************
				if (!deckEmpty) { ctx.drawImage(cardBack, 120, 440); }

				//Draw cards
				if (hand1Selected) { ctx.drawImage(player1.myHand[0].myImage, 230, 415); }
				else { ctx.drawImage(player1.myHand[0].myImage, 230, 440); }

				if (hand2Selected) { ctx.drawImage(player1.myHand[1].myImage, 330, 415); }
				else { ctx.drawImage(player1.myHand[1].myImage, 330, 440); }

				if (player1.myDeck.numUsed < player1.myDeck.MAX_DECK_SIZE) {
					if (hand3Selected) { ctx.drawImage(player1.myHand[2].myImage, 430, 415); }
					else { ctx.drawImage(player1.myHand[2].myImage, 430, 440); }

					if (hand4Selected) { ctx.drawImage(player1.myHand[3].myImage, 530, 415); }
					else { ctx.drawImage(player1.myHand[3].myImage, 530, 440); }

					if (hand5Selected) { ctx.drawImage(player1.myHand[4].myImage, 630, 415); }
					else { ctx.drawImage(player1.myHand[4].myImage, 630, 440); }
				}
				//draw clock***********
				if (!outOfTime) { ctx.drawImage(clockHappyPic, -6, 572); }
				else { ctx.drawImage(clockSadPic, -6, 572); }

				//drawTime************
				ctx.drawImage(clockTens, 110, 625);
				ctx.drawImage(clockOnes, 170, 625);
				//testing the actual values to see if its just slow loading the pics FIXED
				//ctx.fillText(tensTime,120,600);
				//ctx.fillText(onesTime,131,600);

				//Draw panic button*******and bonuses********
				if (panicked) {
					ctx.drawImage(panicPic, 460, 660); ctx.drawImage(noBonus, 750, 241);
					ctx.font = '30px Arial';
					var answer = "Answer: "+player1.currentX;
					ctx.fillText(answer,430,410);
				}
				else {
					ctx.drawImage(panicPic, 460, 660);
					if (numAdditions > 0){ ctx.drawImage(addTimes, 860, 320);}
					if (numSubtractions > 0){ ctx.drawImage(minusTimes, 865, 382);}
					if (numMultiplies > 0){ ctx.drawImage(multiTimes, 871, 439);}
					if (numDivisions > 0){ ctx.drawImage(divideTimes, 858, 499);}
				}

				//make term Button
				ctx.drawImage(makeTermPic, 790, 600);

				//accept button
				ctx.drawImage(acceptPic, 760, 650);

				//cancel button
				ctx.drawImage(cancelPic, 885, 650);
				
				//draw level number and  problem number
				var level = "Level:  "+player1.level;
				var problem = "Problem:  "+player1.problemNumber;
				ctx.font = '15px Arial';
				ctx.fillText(level,360,44);
				ctx.fillText(problem,360,66);
				
				

				//put up the player name on the book
				ctx.font = '20px Arial';
				ctx.fillText(player1.name, 78, 120);

				//draw score
				//ctx.fillText(player1.totalScore,190,150);
				
				//
				
				//drawEQ
				ctx.font = '50px Arial';
				ctx.fillText(player1.currentEQ,380,170);

				var scoreY = 140;
				var scoreX = 157;
				var scoreXstep = 20;
				for (var i = 0; i < 7; i++) {
					ctx.drawImage(scorePics[6 - i], scoreX + (i * scoreXstep), scoreY);
				}
				
				ctx.font = '20px Arial';
				//******dialogs************
				if (confirmDialog) { ctx.fillText(confirmMessage, 374, 355); }
				else if (quitDialog) { ctx.fillText(quitMessage, 374, 355); }
				else if (acceptDialog) { ctx.fillText(acceptMessage, 374, 355); }
				else if (cancelDialog) { ctx.fillText(cancelMessage, 374, 355); }
				else if(selectCardDialog){ctx.fillText(selectCardMessage, 374, 355);}
				else if(selectOperationDialog){ctx.fillText(selectOperationMessage, 374, 355);}

				if (failDialog) {
					ctx.drawImage(failStampPic, -284, -280);
					ctx.fillText(confirmMessage, 374, 355);
					ctx.fillText(failMessage, 374, 295);
				}


				//more stuff
			}
			else if (atGameOverScreen) {
				ctx.drawImage(gameOver, 0, 0);
			}

			clickOnce = false;
			/*
						if (clickDown) 
						{
							ctx.fillText('click~~', 12, 12);
						}
			*/
			clickDown = false;
		}

		$(document).ready(function () {
			var GameLoop = setInterval(
				function () {
					var gameScreen = document.getElementById("myCanvas");
					var context = gameScreen.getContext("2d");
					gameStatusCheck();
					draw(context);


					clicked = 0;
					doubleclicked = 0;
					touched = 0;
					doubletouched = 0;
				}, 1000 / fps
			);
		});
	</script>
</body>
</html>
